function dhtmlXTreeObject(f,e,b,a){if(typeof(f)!="object"){this.parentObject=document.getElementById(f)}else{this.parentObject=f}this.dlmtr=",";this.dropLower=false;this.xmlstate=0;this.mytype="tree";this.smcheck=true;this.width=e;this.height=b;this.rootId=a;this.childCalc=null;this.def_img_x="18px";this.def_img_y="18px";this._dragged=new Array();this._selected=new Array();this.style_pointer="pointer";if(navigator.appName=="Microsoft Internet Explorer"){this.style_pointer="hand"}this._aimgs=true;this.htmlcA=" [";this.htmlcB="]";this.lWin=window;this.cMenu=0;this.mlitems=0;this.dadmode=0;this.slowParse=false;this.autoScroll=true;this.hfMode=0;this.nodeCut=new Array();this.XMLsource=0;this.XMLloadingWarning=0;this._globalIdStorage=new Array();this.globalNodeStorage=new Array();this._globalIdStorageSize=0;this.treeLinesOn=true;this.checkFuncHandler=0;this._spnFH=0;this.dblclickFuncHandler=0;this.tscheck=false;this.timgen=true;this.dpcpy=false;this._ld_id=null;this.imPath="treeGfx/";this.checkArray=new Array("iconUnCheckAll.gif","iconCheckAll.gif","iconCheckGray.gif","iconUncheckDis.gif","iconCheckDis.gif","iconCheckDis.gif");this.radioArray=new Array("radio_off.gif","radio_on.gif","radio_on.gif","radio_off.gif","radio_on.gif","radio_on.gif");this.lineArray=new Array("line2.gif","line3.gif","line4.gif","blank.gif","blank.gif","line1.gif");this.minusArray=new Array("minus2.gif","minus3.gif","minus4.gif","minus.gif","minus5.gif");this.plusArray=new Array("plus2.gif","plus3.gif","plus4.gif","plus.gif","plus5.gif");this.imageArray=new Array("leaf.gif","folderOpen.gif","folderClosed.gif");this.cutImg=new Array(0,0,0);this.cutImage="but_cut.gif";this.dragger=new dhtmlDragAndDropObject();this.htmlNode=new dhtmlXTreeItemObject(this.rootId,"",0,this);this.htmlNode.htmlNode.childNodes[0].childNodes[0].style.display="none";this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[0].className="hiddenRow";this.allTree=this._createSelf();this.allTree.appendChild(this.htmlNode.htmlNode);if(_isFF){this.allTree.childNodes[0].width="100%"}this.allTree.onselectstart=new Function("return false;");this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,true,this.no_cashe);this.selectionBar=document.createElement("DIV");this.selectionBar.className="selectionBar";this.selectionBar.innerHTML="&nbsp;";this.selectionBar.style.display="none";this.allTree.appendChild(this.selectionBar);var c=this;if(window.addEventListener){window.addEventListener("unload",function(){try{c.destructor()}catch(g){}},false)}if(window.attachEvent){window.attachEvent("onunload",function(){try{c.destructor()}catch(g){}})}return this}dhtmlXTreeObject.prototype.destructor=function(){for(var c=0;c<this._globalIdStorageSize;c++){var e=this.globalNodeStorage[c];e.parentObject=null;e.treeNod=null;e.childNodes=null;e.span=null;e.tr.nodem=null;e.tr=null;e.htmlNode.objBelong=null;e.htmlNode=null;this.globalNodeStorage[c]=null}this.allTree.innerHTML="";this.XMLLoader.destructor();for(var b in this){this[b]=null}};function cObject(){return this}cObject.prototype=new Object;cObject.prototype.clone=function(){function a(){}a.prototype=this;return new a()};function dhtmlXTreeItemObject(g,b,c,a,e,f){this.htmlNode="";this.acolor="";this.scolor="";this.tr=0;this.childsCount=0;this.tempDOMM=0;this.tempDOMU=0;this.dragSpan=0;this.dragMove=0;this.span=0;this.closeble=1;this.childNodes=new Array();this.userData=new cObject();this.checkstate=0;this.treeNod=a;this.label=b;this.parentObject=c;this.actionHandler=e;this.images=new Array(a.imageArray[0],a.imageArray[1],a.imageArray[2]);this.id=a._globalIdStorageAdd(g,this);if(this.treeNod.checkBoxOff){this.htmlNode=this.treeNod._createItem(1,this,f)}else{this.htmlNode=this.treeNod._createItem(0,this,f)}this.htmlNode.objBelong=this;return this}dhtmlXTreeObject.prototype._globalIdStorageAdd=function(b,a){if(this._globalIdStorageFind(b,1,1)){d=new Date();b=d.valueOf()+"_"+b;return this._globalIdStorageAdd(b,a)}this._globalIdStorage[this._globalIdStorageSize]=b;this.globalNodeStorage[this._globalIdStorageSize]=a;this._globalIdStorageSize++;return b};dhtmlXTreeObject.prototype.setListDelimeter=function(a){this.dlmtr=a};dhtmlXTreeObject.prototype._globalIdStorageSub=function(b){for(var a=0;a<this._globalIdStorageSize;a++){if(this._globalIdStorage[a]==b){this._globalIdStorage[a]=this._globalIdStorage[this._globalIdStorageSize-1];this.globalNodeStorage[a]=this.globalNodeStorage[this._globalIdStorageSize-1];this._globalIdStorageSize--;this._globalIdStorage[this._globalIdStorageSize]=0;this.globalNodeStorage[this._globalIdStorageSize]=0}}};dhtmlXTreeObject.prototype._globalIdStorageFind=function(g,a,e,f){for(var c=0;c<this._globalIdStorageSize;c++){if(this._globalIdStorage[c]==g){if((this.globalNodeStorage[c].unParsed)&&(!e)){this.reParse(this.globalNodeStorage[c],0)}if((f)&&(this._edsbpsA)){for(var b=0;b<this._edsbpsA.length;b++){if(this._edsbpsA[b][2]==g){dhtmlxError.throwError("getItem","Requested item still in parsing process.",g);return null}}}return this.globalNodeStorage[c]}}if((this.slowParse)&&(g!=0)&&(!a)){return this.preParse(g)}else{return null}};dhtmlXTreeObject.prototype.reParse=function(f){var e=this;if((this.onXLS)&&(!this.parsCount)){e.onXLS(e,f.id)}this.xmlstate=1;var c=f.unParsed;f.unParsed=0;this.XMLloadingWarning=1;var h=this.parsingOn;this.parsingOn=f.id;this.parsedArray=new Array();this.setCheckList="";this._parseXMLTree(this,c,f.id,2,f);var a=this.setCheckList.split(this.dlmtr);for(var b=0;b<this.parsedArray.length;b++){f.htmlNode.childNodes[0].appendChild(this.parsedArray[b])}this.oldsmcheck=this.smcheck;this.smcheck=false;for(var g=0;g<a.length;g++){if(a[g]){this.setCheck(a[g],1)}}this.smcheck=this.oldsmcheck;this.parsingOn=h;this.XMLloadingWarning=0;this._redrawFrom(this,f);return true};dhtmlXTreeObject.prototype.setEscapingMode=function(a){this.utfesc=a};dhtmlXTreeObject.prototype._escape=function(a){switch(this.utfesc){case"none":return a;break;case"utf8":return encodeURI(a);break;default:return escape(a);break}};dhtmlXTreeObject.prototype.preParse=function(g){if(!g){return null}var f=this.XMLLoader.getXMLTopNode("tree");var b=0;var a=0;if(!f){return}for(b=0;b<f.childNodes.length;b++){if(f.childNodes[b].nodeType==1){var e=this.findXML(f.childNodes[b],"id",g);if(e!==false){var c=new Array();while(1){c[c.length]=e.getAttribute("id");f=this._globalIdStorageFind(e.getAttribute("id"),true,true,true);if(f){break}e=e.parentNode}for(var b=c.length-1;b>=0;b--){this._globalIdStorageFind(c[b],true,false)}f=this._globalIdStorageFind(g,true,false);if(!f){dhtmlxError.throwError("getItem","The item "+g+" not operable. Seems you have non-unique IDs in tree's XML.",g)}return f}}}return null};dhtmlXTreeObject.prototype.findXML=function(c,b,f){for(var a=0;a<c.childNodes.length;a++){if(c.childNodes[a].nodeType==1){if(c.childNodes[a].getAttribute(b)==f){return c}var e=this.findXML(c.childNodes[a],b,f);if(e){return(e)}}}return false};dhtmlXTreeObject.prototype._drawNewTr=function(f,c){var e=document.createElement("tr");var b=document.createElement("td");var a=document.createElement("td");b.appendChild(document.createTextNode(" "));a.colSpan=3;a.appendChild(f);e.appendChild(b);e.appendChild(a);return e};dhtmlXTreeObject.prototype.loadXMLString=function(c,b){var a=this;if((this.onXLS)&&(!this.parsCount)){a.onXLS(a,null)}this.xmlstate=1;if(b){this.XMLLoader.waitCall=b}this.XMLLoader.loadXMLString(c)};dhtmlXTreeObject.prototype.loadXML=function(a,c){var b=this;if((this.onXLS)&&(!this.parsCount)){b.onXLS(b,this._ld_id)}this._ld_id=null;this.xmlstate=1;this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,true,this.no_cashe);if(c){this.XMLLoader.waitCall=c}this.XMLLoader.loadXML(a)};dhtmlXTreeObject.prototype._attachChildNode=function(g,f,c,h,s,r,q,j,b,l,m){if(l){g=l.parentObject}if(((g.XMLload==0)&&(this.XMLsource))&&(!this.XMLloadingWarning)){g.XMLload=1;this._loadDynXML(g.id)}var k=g.childsCount;var t=g.childNodes;if(m){if(m.tr.previousSibling.previousSibling){l=m.tr.previousSibling.nodem}else{j=j.replace("TOP","")+",TOP"}}if(l){var e,p;for(e=0;e<k;e++){if(t[e]==l){for(p=k;p!=e;p--){t[1+p]=t[p]}break}}e++;k=e}if((!h)&&(this.aFunc)){h=this.aFunc}if(j){var n=j.split(",");for(var o=0;o<n.length;o++){switch(n[o]){case"TOP":if(g.childsCount>0){l=new Object;l.tr=g.childNodes[0].tr.previousSibling}for(e=k;e>0;e--){t[e]=t[e-1]}k=0;break}}}t[k]=new dhtmlXTreeItemObject(f,c,g,this,h,1);if(s){t[k].images[0]=s}if(r){t[k].images[1]=r}if(q){t[k].images[2]=q}g.childsCount++;var a=this._drawNewTr(t[k].htmlNode);if((this.XMLloadingWarning)||(this._hAdI)){t[k].htmlNode.parentNode.parentNode.style.display="none"}if((l)&&(l.tr.nextSibling)){g.htmlNode.childNodes[0].insertBefore(a,l.tr.nextSibling)}else{if(this.parsingOn==g.id){this.parsedArray[this.parsedArray.length]=a}else{g.htmlNode.childNodes[0].appendChild(a)}}if((l)&&(!l.span)){l=null}if(this.XMLsource){if((b)&&(b!=0)){t[k].XMLload=0}else{t[k].XMLload=1}}t[k].tr=a;a.nodem=t[k];if(g.itemId==0){a.childNodes[0].className="hiddenRow"}if((g._r_logic)||(this._frbtr)){t[k].htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0].src=this.imPath+this.radioArray[0]}if(j){var n=j.split(",");for(var o=0;o<n.length;o++){switch(n[o]){case"SELECT":this.selectItem(f,false);break;case"CALL":this.selectItem(f,true);break;case"CHILD":t[k].XMLload=0;break;case"CHECKED":if(this.XMLloadingWarning){this.setCheckList+=this.dlmtr+f}else{this.setCheck(f,1)}break;case"HCHECKED":this._setCheck(t[k],"unsure");break;case"OPEN":t[k].openMe=1;break}}}if(!this.XMLloadingWarning){if((this._getOpenState(g)<0)&&(!this._hAdI)){this.openItem(g.id)}if(l){this._correctPlus(l);this._correctLine(l)}this._correctPlus(g);this._correctLine(g);this._correctPlus(t[k]);if(g.childsCount>=2){this._correctPlus(t[g.childsCount-2]);this._correctLine(t[g.childsCount-2])}if(g.childsCount!=2){this._correctPlus(t[0])}if(this.tscheck){this._correctCheckStates(g)}if(this._onradh){this._onradh(f)}}if(this.cMenu){this.cMenu.setContextZone(t[k].span,t[k].id)}return t[k]};dhtmlXTreeObject.prototype.setItemContextMenu=function(f,e){var a=f.split(this.dlmtr);for(var c=0;c<a.length;c++){var b=this._globalIdStorageFind(a[c]);if(!b){continue}e.setContextZone(b.span,b.id)}};dhtmlXTreeObject.prototype.setItemStyle=function(c,b){var a=this._globalIdStorageFind(c);if(!a){return 0}if(!a.span.style.cssText){a.span.setAttribute("style",a.span.getAttribute("style")+";"+b)}else{a.span.style.cssText+=(";"+b)}};dhtmlXTreeObject.prototype.insertNewItem=function(c,j,l,b,g,f,e,a,h){var m=this._globalIdStorageFind(c);if(!m){return(-1)}var k=this._attachChildNode(m,j,l,b,g,f,e,a,h);if((!this.XMLloadingWarning)&&(this.childCalc)){this._fixChildCountLabel(m)}return k};dhtmlXTreeObject.prototype.insertNewChild=function(c,j,k,b,g,f,e,a,h){return this.insertNewItem(c,j,k,b,g,f,e,a,h)};dhtmlXTreeObject.prototype._parseXMLTree=function(I,z,e,k,f,v){if(!f){f=I.XMLLoader}I.skipLock=true;if(!I.parsCount){I.parsCount=1}else{I.parsCount++}I.XMLloadingWarning=1;var A="";if(!z){z=f.getXMLTopNode("tree");e=z.getAttribute("id");if(z.getAttribute("radio")){I.htmlNode._r_logic=true}I.parsingOn=e;I.parsedArray=new Array();I.setCheckList=""}var m=I._globalIdStorageFind(e);if((m.childsCount)&&(!v)&&(!I._edsbps)){var T=m.childNodes[m.childsCount-1]}else{var T=0}if(z.getAttribute("order")){I._reorderXMLBranch(z)}var x=0;for(var P=v||0;P<z.childNodes.length;P++){if((z.childNodes[P].nodeType==1)&&(z.childNodes[P].tagName=="item")){m.XMLload=1;if((I._epgps)&&(I._epgpsC==x)){this._setNextPageSign(m,x+1*(v||0),k,z);break}var t=z.childNodes[P];var r=t.getAttribute("text");var D=t.getAttribute("id");if((!I.waitUpdateXML)||(I.waitUpdateXML.toString().search(I.dlmtr+D+I.dlmtr)!=-1)){var L=t.getAttribute("im0");var K=t.getAttribute("im1");var J=t.getAttribute("im2");var s=t.getAttribute("aCol");var C=t.getAttribute("sCol");var w=t.getAttribute("child");var c=t.getAttribute("imwidth");var l=t.getAttribute("imheight");var V=t.getAttribute("top");var G=t.getAttribute("radio");var j=t.getAttribute("topoffset");var S=t.getAttribute("open");var g=t.getAttribute("select");var u=t.getAttribute("call");var h=t.getAttribute("checked");var M=t.getAttribute("closeable");var E=t.getAttribute("tooltip");var o=t.getAttribute("nocheckbox");var Q=t.getAttribute("disabled");var N=t.getAttribute("style");var y=t.getAttribute("locked");var R="";if(g){R+=",SELECT"}if(V){R+=",TOP"}if(u){A=D}if(h==-1){R+=",HCHECKED"}else{if(h){R+=",CHECKED"}}if(S){R+=",OPEN"}if(I.waitUpdateXML){var q=I.updateItem(D,r,L,K,J,h)}else{var q=I._attachChildNode(m,D,r,0,L,K,J,R,w,0,T)}if(E){q.span.parentNode.title=E}if(N){if(q.span.style.cssText){q.span.style.cssText+=(";"+N)}else{q.span.setAttribute("style",q.span.getAttribute("style")+";"+N)}}if(G){q._r_logic=true}if(o){q.span.parentNode.previousSibling.previousSibling.childNodes[0].style.display="none";q.nocheckbox=true}if(Q){if(h!=null){I._setCheck(q,convertStringToBoolean(h))}I.disableCheckbox(q,1)}q._acc=w||0;if(I.parserExtension){I.parserExtension._parseExtension(z.childNodes[P],I.parserExtension,D,e)}I.setItemColor(q,s,C);if(y=="1"){I._lockItem(q,true,true)}if((c)||(l)){I.setIconSize(c,l,q)}if((M=="0")||(M=="1")){I.setItemCloseable(q,M)}var B="";if(j){this.setItemTopOffset(q,j)}if((!I.slowParse)||(I.waitUpdateXML)){B=I._parseXMLTree(I,z.childNodes[P],D,1,f)}else{if(z.childNodes[P].childNodes.length>0){for(var U=0;U<z.childNodes[P].childNodes.length;U++){if(z.childNodes[P].childNodes[U].tagName=="item"){q.unParsed=z.childNodes[P]}else{I.checkUserData(z.childNodes[P].childNodes[U],q.id)}}}}if(B!=""){A=B}}else{I._parseXMLTree(I,z.childNodes[P],D,1,f)}if((I._edsbps)&&(x==I._edsbpsC)){I._distributedStart(z,P+1,e,k,m.childsCount);break}x++}else{I.checkUserData(z.childNodes[P],e)}}if(!k){if(I.waitUpdateXML){I.waitUpdateXML=""}else{var H=I._globalIdStorageFind(I.parsingOn);for(var P=0;P<I.parsedArray.length;P++){H.htmlNode.childNodes[0].appendChild(I.parsedArray[P])}I.lastLoadedXMLId=e;I.XMLloadingWarning=0;var F=I.setCheckList.split(I.dlmtr);for(var O=0;O<F.length;O++){if(F[O]){I.setCheck(F[O],1)}}if((I.XMLsource)&&(I.tscheck)&&(I.smcheck)&&(m.id!=I.rootId)){if(m.checkstate===0){I._setSubChecked(0,m)}else{if(m.checkstate===1){I._setSubChecked(1,m)}}}if(navigator.appVersion.indexOf("MSIE")!=-1&&navigator.appVersion.indexOf("5.5")!=-1){window.setTimeout(function(){I._redrawFrom(I,null,v)},10)}else{I._redrawFrom(I,null,v)}if(A!=""){I.selectItem(A,true)}}}if(I.parsCount==1){if((I.slowParse)&&(I.parsingOn==I.rootId)){if(!_isOpera){var p=f.doXPath("//item[@open]",f.xmlDoc.responseXML)}else{var b=f.xmlDoc.responseXML.getElementsByTagName("item");var p=new Array();for(var P=0;P<b.length;P++){if(b[P].getAttribute("open")){p[p.length]=b[P]}}}for(var P=0;P<p.length;P++){I.openItem(p[P].getAttribute("id"))}}I.parsingOn=null;if((!I._edsbps)||(!I._edsbpsA.length)){if(I.onXLE){window.setTimeout(function(){I.onXLE(I,e)},1)}I.xmlstate=0}I.skipLock=false}I.parsCount--;if(I._edsbps){window.setTimeout(function(){I._distributedStep(e)},I._edsbpsD)}if((I._epgps)&&(v)){this._setPrevPageSign(m,(v||0),k,z)}return A};dhtmlXTreeObject.prototype.checkUserData=function(b,c){if((b.nodeType==1)&&(b.tagName=="userdata")){var a=b.getAttribute("name");if((a)&&(b.childNodes[0])){if((!this.waitUpdateXML)||(this.waitUpdateXML.toString().search(this.dlmtr+c+this.dlmtr)!=-1)){this.setUserData(c,a,b.childNodes[0].data)}}}};dhtmlXTreeObject.prototype.showItemSign=function(e,b){var a=this._globalIdStorageFind(e);if(!a){return 0}var c=a.span.parentNode.previousSibling.previousSibling.previousSibling;if(!convertStringToBoolean(b)){this._openItem(a);a.closeble=false;a.wsign=true}else{a.closeble=true;a.wsign=false}this._correctPlus(a)};dhtmlXTreeObject.prototype.showItemCheckbox=function(c,b){var a=this._globalIdStorageFind(c,0,1);if(!a){return 0}a.nocheckbox=!convertStringToBoolean(b);a.span.parentNode.previousSibling.previousSibling.childNodes[0].style.display=(!a.nocheckbox)?"":"none"};dhtmlXTreeObject.prototype._getChildCounterValue=function(b){var a=this._globalIdStorageFind(b);if(!a){return 0}if((a.unParsed)||((!a.XMLload)&&(this.XMLsource))){return a._acc}switch(this.childCalc){case 1:return a.childsCount;break;case 2:return this._getLeafCount(a);break;case 3:return a._acc;break;case 4:return a._acc;break}};dhtmlXTreeObject.prototype._redrawFrom=function(j,b,h,c){if(!b){var f=j._globalIdStorageFind(j.lastLoadedXMLId);j.lastLoadedXMLId=-1;if(!f){return 0}}else{f=b}var g=0;for(var e=(h?h-1:0);e<f.childsCount;e++){if((!b)||(c==1)){f.childNodes[e].htmlNode.parentNode.parentNode.style.display=""}if(f.childNodes[e].openMe==1){this._openItem(f.childNodes[e]);f.childNodes[e].openMe=0}j._redrawFrom(j,f.childNodes[e]);if(this.childCalc!=null){if((f.childNodes[e].unParsed)||((!f.childNodes[e].XMLload)&&(this.XMLsource))){if(f.childNodes[e]._acc){f.childNodes[e].span.innerHTML=f.childNodes[e].label+this.htmlcA+f.childNodes[e]._acc+this.htmlcB}else{f.childNodes[e].span.innerHTML=f.childNodes[e].label}}if((f.childNodes[e].childNodes.length)&&(this.childCalc)){if(this.childCalc==1){f.childNodes[e].span.innerHTML=f.childNodes[e].label+this.htmlcA+f.childNodes[e].childsCount+this.htmlcB}if(this.childCalc==2){var a=f.childNodes[e].childsCount-(f.childNodes[e].pureChilds||0);if(a){f.childNodes[e].span.innerHTML=f.childNodes[e].label+this.htmlcA+a+this.htmlcB}if(f.pureChilds){f.pureChilds++}else{f.pureChilds=1}}if(this.childCalc==3){f.childNodes[e].span.innerHTML=f.childNodes[e].label+this.htmlcA+f.childNodes[e]._acc+this.htmlcB}if(this.childCalc==4){var a=f.childNodes[e]._acc;if(a){f.childNodes[e].span.innerHTML=f.childNodes[e].label+this.htmlcA+a+this.htmlcB}}}else{if(this.childCalc==4){g++}}g+=f.childNodes[e]._acc;if(this.childCalc==3){g++}}}if((!f.unParsed)&&((f.XMLload)||(!this.XMLsource))){f._acc=g}j._correctLine(f);j._correctPlus(f);if((this.childCalc)&&(!b)){j._fixChildCountLabel(f)}};dhtmlXTreeObject.prototype._createSelf=function(){var a=document.createElement("div");a.className="containerTableStyle";a.style.width=this.width;a.style.height=this.height;this.parentObject.appendChild(a);return a};dhtmlXTreeObject.prototype._xcloseAll=function(b){if(b.unParsed){return}if(this.rootId!=b.id){var e=b.htmlNode.childNodes[0].childNodes;var a=e.length;for(var c=1;c<a;c++){e[c].style.display="none"}this._correctPlus(b)}for(var c=0;c<b.childsCount;c++){if(b.childNodes[c].childsCount){this._xcloseAll(b.childNodes[c])}}};dhtmlXTreeObject.prototype._xopenAll=function(a){this._HideShow(a,2);for(var b=0;b<a.childsCount;b++){this._xopenAll(a.childNodes[b])}};dhtmlXTreeObject.prototype._correctPlus=function(b){var c=b.htmlNode.childNodes[0].childNodes[0].childNodes[0].lastChild;var f=b.htmlNode.childNodes[0].childNodes[0].childNodes[2].childNodes[0];var a=this.lineArray;if((this.XMLsource)&&(!b.XMLload)){var a=this.plusArray;f.src=this.imPath+b.images[2];if(this._txtimg){return(c.innerHTML="[+]")}}else{if((b.childsCount)||(b.unParsed)){if((b.htmlNode.childNodes[0].childNodes[1])&&(b.htmlNode.childNodes[0].childNodes[1].style.display!="none")){if(!b.wsign){var a=this.minusArray}f.src=this.imPath+b.images[1];if(this._txtimg){return(c.innerHTML="[-]")}}else{if(!b.wsign){var a=this.plusArray}f.src=this.imPath+b.images[2];if(this._txtimg){return(c.innerHTML="[+]")}}}else{f.src=this.imPath+b.images[0]}}var e=2;if(!b.treeNod.treeLinesOn){c.src=this.imPath+a[3]}else{if(b.parentObject){e=this._getCountStatus(b.id,b.parentObject)}c.src=this.imPath+a[e]}};dhtmlXTreeObject.prototype._correctLine=function(b){var a=b.parentObject;if(a){if((this._getLineStatus(b.id,a)==0)||(!this.treeLinesOn)){for(var c=1;c<=b.childsCount;c++){b.htmlNode.childNodes[0].childNodes[c].childNodes[0].style.backgroundImage="";b.htmlNode.childNodes[0].childNodes[c].childNodes[0].style.backgroundRepeat=""}}else{for(var c=1;c<=b.childsCount;c++){b.htmlNode.childNodes[0].childNodes[c].childNodes[0].style.backgroundImage="url("+this.imPath+this.lineArray[5]+")";b.htmlNode.childNodes[0].childNodes[c].childNodes[0].style.backgroundRepeat="repeat-y"}}}};dhtmlXTreeObject.prototype._getCountStatus=function(b,a){if(a.childsCount<=1){if(a.id==this.rootId){return 4}else{return 0}}if(a.childNodes[0].id==b){if(!a.id){return 2}else{return 1}}if(a.childNodes[a.childsCount-1].id==b){return 0}return 1};dhtmlXTreeObject.prototype._getLineStatus=function(b,a){if(a.childNodes[a.childsCount-1].id==b){return 0}return 1};dhtmlXTreeObject.prototype._HideShow=function(b,f){if((this.XMLsource)&&(!b.XMLload)){if(f==1){return}b.XMLload=1;this._loadDynXML(b.id);return}if(b.unParsed){this.reParse(b)}var e=b.htmlNode.childNodes[0].childNodes;var a=e.length;if(a>1){if(((e[1].style.display!="none")||(f==1))&&(f!=2)){this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0";nodestyle="none"}else{nodestyle=""}for(var c=1;c<a;c++){e[c].style.display=nodestyle}}this._correctPlus(b)};dhtmlXTreeObject.prototype._getOpenState=function(a){var b=a.htmlNode.childNodes[0].childNodes;if(b.length<=1){return 0}if(b[1].style.display!="none"){return 1}else{return -1}};dhtmlXTreeObject.prototype.onRowClick2=function(){if(this.parentObject.treeNod.dblclickFuncHandler){if(!this.parentObject.treeNod.dblclickFuncHandler(this.parentObject.id,this.parentObject.treeNod)){return 0}}if((this.parentObject.closeble)&&(this.parentObject.closeble!="0")){this.parentObject.treeNod._HideShow(this.parentObject)}else{this.parentObject.treeNod._HideShow(this.parentObject,2)}};dhtmlXTreeObject.prototype.onRowClick=function(){var a=this.parentObject.treeNod;if(a._spnFH){if(!a._spnFH(this.parentObject.id,a._getOpenState(this.parentObject))){return 0}}if((this.parentObject.closeble)&&(this.parentObject.closeble!="0")){a._HideShow(this.parentObject)}else{a._HideShow(this.parentObject,2)}if(a._epnFH){if(!a.xmlstate){a._epnFH(this.parentObject.id,a._getOpenState(this.parentObject))}else{a._oie_onXLE=a.onXLE;a.onXLE=a._epnFHe}}};dhtmlXTreeObject.prototype._epnFHe=function(a,b){if(a._epnFH){a._epnFH(b,a.getOpenState(b))}a.onXLE=a._oie_onXLE;if(a.onXLE){a.onXLE(a,b)}};dhtmlXTreeObject.prototype.onRowClickDown=function(b){b=b||window.event;var a=this.parentObject.treeNod;a._selectItem(this.parentObject,b)};dhtmlXTreeObject.prototype.getSelectedItemId=function(){var b=new Array();for(var a=0;a<this._selected.length;a++){b[a]=this._selected[a].id}return(b.join(this.dlmtr))};dhtmlXTreeObject.prototype._selectItem=function(j,k){if((!this._amsel)||(!k)||((!k.ctrlKey)&&(!k.shiftKey))){this._unselectItems()}if((j.i_sel)&&(this._amsel)&&(k)&&(k.ctrlKey)){this._unselectItem(j)}else{if((!j.i_sel)&&((!this._amselS)||(this._selected.length==0)||(this._selected[0].parentObject==j.parentObject))){if((this._amsel)&&(k)&&(k.shiftKey)&&(this._selected.length!=0)&&(this._selected[this._selected.length-1].parentObject==j.parentObject)){var g=this._getIndex(this._selected[this._selected.length-1]);var f=this._getIndex(j);if(f<g){var l=g;g=f;f=l}for(var h=g;h<=f;h++){if(!j.parentObject.childNodes[h].i_sel){this._markItem(j.parentObject.childNodes[h])}}}else{this._markItem(j)}}}};dhtmlXTreeObject.prototype._markItem=function(a){if(a.scolor){a.span.style.color=a.scolor}a.span.className="selectedTreeRow";a.i_sel=true;this._selected[this._selected.length]=a};dhtmlXTreeObject.prototype.getIndexById=function(b){var a=this._globalIdStorageFind(b);if(!a){return null}return this._getIndex(a)};dhtmlXTreeObject.prototype._getIndex=function(a){var c=a.parentObject;for(var b=0;b<c.childsCount;b++){if(c.childNodes[b]==a){return b}}};dhtmlXTreeObject.prototype.clearSelection=function(a){if(a){this._unselectItem(this._globalIdStorageFind(a))}else{this._unselectItems()}};dhtmlXTreeObject.prototype._unselectItem=function(b){if((b)&&(b.i_sel)){b.span.className="standartTreeRow";if(b.acolor){b.span.style.color=b.acolor}b.i_sel=false;for(var a=0;a<this._selected.length;a++){if(!this._selected[a].i_sel){this._selected.splice(a,1);break}}}};dhtmlXTreeObject.prototype._unselectItems=function(){for(var a=0;a<this._selected.length;a++){var b=this._selected[a];b.span.className="standartTreeRow";if(b.acolor){b.span.style.color=b.acolor}b.i_sel=false}this._selected=new Array()};dhtmlXTreeObject.prototype.onRowSelect=function(f,c,h){f=f||window.event;var b=this.parentObject;if(c){b=c.parentObject}var a=b.treeNod;var g=a.getSelectedItemId();a._selectItem(b,f);if(!h){if((f)&&(f.button==2)&&(a.arFunc)){a.arFunc(b.id)}if(b.actionHandler){b.actionHandler(b.id,g)}}};dhtmlXTreeObject.prototype._correctCheckStates=function(f){if(!this.tscheck){return}if(f.id==this.rootId){return}var c=f.childNodes;var b=0;var a=0;if(f.childsCount==0){return}for(var e=0;e<f.childsCount;e++){if(c[e].checkstate==0){b=1}else{if(c[e].checkstate==1){a=1}else{b=1;a=1;break}}}if((b)&&(a)){this._setCheck(f,"unsure")}else{if(b){this._setCheck(f,false)}else{this._setCheck(f,true)}}this._correctCheckStates(f.parentObject)};dhtmlXTreeObject.prototype.onCheckBoxClick=function(a){if(this.treeNod.tscheck){if(this.parentObject.checkstate==1){this.treeNod._setSubChecked(false,this.parentObject)}else{this.treeNod._setSubChecked(true,this.parentObject)}}else{if(this.parentObject.checkstate==1){this.treeNod._setCheck(this.parentObject,false)}else{this.treeNod._setCheck(this.parentObject,true)}}this.treeNod._correctCheckStates(this.parentObject.parentObject);if((!this.parentObject.dscheck)&&(this.treeNod.checkFuncHandler)){return(this.treeNod.checkFuncHandler(this.parentObject.id,this.parentObject.checkstate))}else{return true}};dhtmlXTreeObject.prototype._createItem=function(n,m,j){var o=document.createElement("table");o.cellSpacing=0;o.cellPadding=0;o.border=0;if(this.hfMode){o.style.tableLayout="fixed"}o.style.margin=0;o.style.padding=0;var h=document.createElement("tbody");var l=document.createElement("tr");var e=document.createElement("td");e.className="standartTreeImage";if(this._txtimg){var f=document.createElement("div");e.appendChild(f);f.className="dhx_tree_textSign"}else{var f=document.createElement((m.id==this.rootId)?"div":"img");f.border="0";if(m.id!=this.rootId){f.align="absmiddle"}e.appendChild(f);f.style.padding=0;f.style.margin=0}var c=document.createElement("td");var k=document.createElement((m.id==this.rootId)?"div":"img");k.checked=0;k.src=this.imPath+this.checkArray[0];k.style.width="16px";k.style.height="16px";if(!n){(((_isOpera)||(_isKHTML))?c:k).style.display="none"}c.appendChild(k);if(m.id!=this.rootId){k.align="absmiddle"}k.onclick=this.onCheckBoxClick;k.treeNod=this;k.parentObject=m;c.width="20px";var b=document.createElement("td");b.className="standartTreeImage";var g=document.createElement((m.id==this.rootId)?"div":"img");g.onmousedown=this._preventNsDrag;g.ondragstart=this._preventNsDrag;g.border="0";if(this._aimgs){g.parentObject=m;if(m.id!=this.rootId){g.align="absmiddle"}g.onclick=this.onRowSelect}if(!j){g.src=this.imPath+this.imageArray[0]}b.appendChild(g);g.style.padding=0;g.style.margin=0;if(this.timgen){g.style.width=this.def_img_x;g.style.height=this.def_img_y}else{g.style.width="0px";g.style.height="0px";if(_isOpera){b.style.display="none"}}var a=document.createElement("td");a.className="standartTreeRow";m.span=document.createElement("span");m.span.className="standartTreeRow";if(this.mlitems){m.span.style.width=this.mlitems}else{a.noWrap=true}if(!_isKHTML){a.style.width="100%"}m.span.innerHTML=m.label;a.appendChild(m.span);a.parentObject=m;e.parentObject=m;a.onclick=this.onRowSelect;e.onclick=this.onRowClick;a.ondblclick=this.onRowClick2;if(this.ettip){a.title=m.label}if(this.dragAndDropOff){if(this._aimgs){this.dragger.addDraggableItem(b,this);b.parentObject=m}this.dragger.addDraggableItem(a,this)}m.span.style.paddingLeft="5px";m.span.style.paddingRight="5px";a.style.verticalAlign="";a.style.fontSize="10pt";a.style.cursor=this.style_pointer;l.appendChild(e);l.appendChild(c);l.appendChild(b);l.appendChild(a);h.appendChild(l);o.appendChild(h);if(this.ehlt){m.span.onmouseout=this._itemMouseOut;m.span.onmousemove=this._itemMouseIn}if(this.arFunc){l.oncontextmenu=Function("this.childNodes[0].parentObject.treeNod.arFunc(this.childNodes[0].parentObject.id);return false;")}return o};dhtmlXTreeObject.prototype._itemMouseOut=function(){var a=this.className.split("_");if(a[1]=="lor"){this.className=a[0]}};dhtmlXTreeObject.prototype._itemMouseIn=function(){var a=this.className.split("_");if(a[1]!="lor"){this.className=a[0]+"_lor"}};dhtmlXTreeObject.prototype.setImagePath=function(a){this.imPath=a};dhtmlXTreeObject.prototype.setChildCalcMode=function(a){switch(a){case"child":this.childCalc=1;break;case"leafs":this.childCalc=2;break;case"childrec":this.childCalc=3;break;case"leafsrec":this.childCalc=4;break;case"disabled":this.childCalc=null;break;default:this.childCalc=4}};dhtmlXTreeObject.prototype.setChildCalcHTML=function(b,a){this.htmlcA=b;this.htmlcB=a};dhtmlXTreeObject.prototype.setOnRightClickHandler=function(func){if(typeof(func)=="function"){this.arFunc=func}else{this.arFunc=eval(func)}};dhtmlXTreeObject.prototype.setOnClickHandler=function(func){if(typeof(func)=="function"){this.aFunc=func}else{this.aFunc=eval(func)}};dhtmlXTreeObject.prototype.enableContextMenu=function(a){if(a){this.cMenu=a}};dhtmlXTreeObject.prototype.setXMLAutoLoading=function(a){this.XMLsource=a};dhtmlXTreeObject.prototype.setDragBehavior=function(a){switch(a){case"child":this.dadmode=0;break;case"sibling":this.dadmode=1;break;case"complex":this.dadmode=2;break}};dhtmlXTreeObject.prototype.setOnCheckHandler=function(func){if(typeof(func)=="function"){this.checkFuncHandler=func}else{this.checkFuncHandler=eval(func)}};dhtmlXTreeObject.prototype.setOnOpenHandler=function(func){if(typeof(func)=="function"){this._spnFH=func}else{this._spnFH=eval(func)}};dhtmlXTreeObject.prototype.setOnOpenStartHandler=function(func){if(typeof(func)=="function"){this._spnFH=func}else{this._spnFH=eval(func)}};dhtmlXTreeObject.prototype.setOnOpenEndHandler=function(func){if(typeof(func)=="function"){this._epnFH=func}else{this._epnFH=eval(func)}};dhtmlXTreeObject.prototype.setOnDblClickHandler=function(func){if(typeof(func)=="function"){this.dblclickFuncHandler=func}else{this.dblclickFuncHandler=eval(func)}};dhtmlXTreeObject.prototype.openAllItems=function(b){var a=this._globalIdStorageFind(b);if(!a){return 0}this._xopenAll(a)};dhtmlXTreeObject.prototype.getOpenState=function(b){var a=this._globalIdStorageFind(b);if(!a){return""}return this._getOpenState(a)};dhtmlXTreeObject.prototype.closeAllItems=function(b){if(b===window.undefined){b=this.rootId}var a=this._globalIdStorageFind(b);if(!a){return 0}this._xcloseAll(a);this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"};dhtmlXTreeObject.prototype.setUserData=function(e,b,c){var a=this._globalIdStorageFind(e,0,true);if(!a){return}if(b=="hint"){a.htmlNode.childNodes[0].childNodes[0].title=c}if(a.userData["t_"+b]===undefined){if(!a._userdatalist){a._userdatalist=b}else{a._userdatalist+=","+b}}a.userData["t_"+b]=c};dhtmlXTreeObject.prototype.getUserData=function(c,b){var a=this._globalIdStorageFind(c,0,true);if(!a){return}return a.userData["t_"+b]};dhtmlXTreeObject.prototype.getItemColor=function(c){var a=this._globalIdStorageFind(c);if(!a){return 0}var b=new Object();if(a.acolor){b.acolor=a.acolor}if(a.acolor){b.scolor=a.scolor}return b};dhtmlXTreeObject.prototype.setItemColor=function(c,b,e){if((c)&&(c.span)){var a=c}else{var a=this._globalIdStorageFind(c)}if(!a){return 0}else{if(a.i_sel){if(e){a.span.style.color=e}}else{if(b){a.span.style.color=b}}if(e){a.scolor=e}if(b){a.acolor=b}}};dhtmlXTreeObject.prototype.getItemText=function(b){var a=this._globalIdStorageFind(b);if(!a){return 0}return(a.htmlNode.childNodes[0].childNodes[0].childNodes[3].childNodes[0].innerHTML)};dhtmlXTreeObject.prototype.getParentId=function(b){var a=this._globalIdStorageFind(b);if((!a)||(!a.parentObject)){return""}return a.parentObject.id};dhtmlXTreeObject.prototype.changeItemId=function(c,e){var a=this._globalIdStorageFind(c);if(!a){return 0}a.id=e;a.span.contextMenuId=e;for(var b=0;b<this._globalIdStorageSize;b++){if(this._globalIdStorage[b]==c){this._globalIdStorage[b]=e}}};dhtmlXTreeObject.prototype.doCut=function(){if(this.nodeCut){this.clearCut()}this.nodeCut=(new Array()).concat(this._selected);for(var a=0;a<this.nodeCut.length;a++){var b=this.nodeCut[a];b._cimgs=new Array();b._cimgs[0]=b.images[0];b._cimgs[1]=b.images[1];b._cimgs[2]=b.images[2];b.images[0]=b.images[1]=b.images[2]=this.cutImage;this._correctPlus(b)}};dhtmlXTreeObject.prototype.doPaste=function(c){var a=this._globalIdStorageFind(c);if(!a){return 0}for(var b=0;b<this.nodeCut.length;b++){if(this._checkPNodes(a,this.nodeCut[b])){continue}this._moveNode(this.nodeCut[b],a)}this.clearCut()};dhtmlXTreeObject.prototype.clearCut=function(){for(var a=0;a<this.nodeCut.length;a++){var b=this.nodeCut[a];b.images[0]=b._cimgs[0];b.images[1]=b._cimgs[1];b.images[2]=b._cimgs[2];this._correctPlus(b)}this.nodeCut=new Array()};dhtmlXTreeObject.prototype._moveNode=function(a,b){var g=this.dadmodec;if(g==1){var f=b;if(this.dadmodefix<0){while(true){f=this._getPrevNode(f);if((f==-1)){f=this.htmlNode;break}if((f.tr==0)||(f.tr.style.display=="")||(!f.parentObject)){break}}var e=f;var c=b}else{while(true){f=this._getNextNode(f);if((f==-1)){f=this.htmlNode;break}if((f.tr.style.display=="")||(!f.parentObject)){break}}var c=f;var e=b}if(this._getNodeLevel(e,0)>this._getNodeLevel(c,0)){if(!this.dropLower){return this._moveNodeTo(a,e.parentObject)}else{if(c.id!=this.rootId){return this._moveNodeTo(a,c.parentObject,c)}else{return this._moveNodeTo(a,this.htmlNode,null)}}}else{return this._moveNodeTo(a,c.parentObject,c)}}else{return this._moveNodeTo(a,b)}};dhtmlXTreeObject.prototype._fixNodesCollection=function(j,g){var b=0;var e=0;var h=j.childNodes;var a=j.childsCount-1;if(g==h[a]){return}for(var f=0;f<a;f++){if(h[f]==h[a]){h[f]=h[f+1];h[f+1]=h[a]}}for(var f=0;f<a+1;f++){if(b){var c=h[f];h[f]=b;b=c}else{if(h[f]==g){b=h[f];h[f]=h[a]}}}};dhtmlXTreeObject.prototype._recreateBranch=function(a,e,c,h){var g;var b="";if(c){for(g=0;g<e.childsCount;g++){if(e.childNodes[g]==c){break}}if(g!=0){c=e.childNodes[g-1]}else{b="TOP";c=""}}var f=this._attachChildNode(e,a.id,a.label,0,a.images[0],a.images[1],a.images[2],b,0,c);f._userdatalist=a._userdatalist;f.userData=a.userData.clone();f.XMLload=a.XMLload;if(a.unParsed){f.unParsed=a.unParsed;this._correctPlus(f)}else{for(var g=0;g<a.childsCount;g++){this._recreateBranch(a.childNodes[g],f,0,1)}}if((!h)&&(this.childCalc)){this._redrawFrom(this,e)}return f};dhtmlXTreeObject.prototype._moveNodeTo=function(n,p,m){if(n.treeNod._nonTrivialNode){return n.treeNod._nonTrivialNode(this,p,m,n)}if(p.mytype){var h=(n.treeNod.lWin!=p.lWin)}else{var h=(n.treeNod.lWin!=p.treeNod.lWin)}if(this.dragFunc){if(!this.dragFunc(n.id,p.id,(m?m.id:null),n.treeNod,p.treeNod)){return false}}if((p.XMLload==0)&&(this.XMLsource)){p.XMLload=1;this._loadDynXML(p.id)}this.openItem(p.id);var b=n.treeNod;var k=n.parentObject.childsCount;var l=n.parentObject;if((h)||(b.dpcpy)){var e=n.id;n=this._recreateBranch(n,p,m);if(!b.dpcpy){b.deleteItem(e)}}else{var f=p.childsCount;var o=p.childNodes;o[f]=n;n.treeNod=p.treeNod;p.childsCount++;var j=this._drawNewTr(o[f].htmlNode);if(!m){p.htmlNode.childNodes[0].appendChild(j);if(this.dadmode==1){this._fixNodesCollection(p,m)}}else{p.htmlNode.childNodes[0].insertBefore(j,m.tr);this._fixNodesCollection(p,m);o=p.childNodes}}if((!b.dpcpy)&&(!h)){var a=n.tr;if((document.all)&&(navigator.appVersion.search(/MSIE\ 5\.0/gi)!=-1)){window.setTimeout(function(){a.removeNode(true)},250)}else{n.parentObject.htmlNode.childNodes[0].removeChild(n.tr)}if((!m)||(p!=n.parentObject)){for(var g=0;g<l.childsCount;g++){if(l.childNodes[g].id==n.id){l.childNodes[g]=0;break}}}else{l.childNodes[l.childsCount-1]=0}b._compressChildList(l.childsCount,l.childNodes);l.childsCount--}if((!h)&&(!b.dpcpy)){n.tr=j;j.nodem=n;n.parentObject=p;if(b!=p.treeNod){if(n.treeNod._registerBranch(n,b)){return}this._clearStyles(n);this._redrawFrom(this,n.parentObject)}this._correctPlus(p);this._correctLine(p);this._correctLine(n);this._correctPlus(n);if(m){this._correctPlus(m)}else{if(p.childsCount>=2){this._correctPlus(o[p.childsCount-2]);this._correctLine(o[p.childsCount-2])}}this._correctPlus(o[p.childsCount-1]);if(this.tscheck){this._correctCheckStates(p)}if(b.tscheck){b._correctCheckStates(l)}}if(k>1){b._correctPlus(l.childNodes[k-2]);b._correctLine(l.childNodes[k-2])}b._correctPlus(l);b._correctLine(l);this._fixChildCountLabel(p);b._fixChildCountLabel(l);if(this.dropFunc){this.dropFunc(n.id,p.id,(m?m.id:null),b,p.treeNod)}return n.id};dhtmlXTreeObject.prototype._clearStyles=function(a){var e=a.htmlNode.childNodes[0].childNodes[0].childNodes[1];var b=e.nextSibling.nextSibling;a.span.innerHTML=a.label;if(this.checkBoxOff){e.childNodes[0].style.display="";e.childNodes[0].onclick=this.onCheckBoxClick}else{e.childNodes[0].style.display="none"}e.childNodes[0].treeNod=this;if(this.cMenu){a.onmousedown=a.contextOnclick||null;this.cMenu.setContextZone(a.span,a.id)}else{a.span.onmousedown=function(){}}this.dragger.removeDraggableItem(b);if(this.dragAndDropOff){this.dragger.addDraggableItem(b,this)}b.childNodes[0].className="standartTreeRow";b.onclick=this.onRowSelect;b.ondblclick=this.onRowClick2;e.previousSibling.onclick=this.onRowClick;this._correctLine(a);this._correctPlus(a);for(var c=0;c<a.childsCount;c++){this._clearStyles(a.childNodes[c])}};dhtmlXTreeObject.prototype._registerBranch=function(b,a){b.id=this._globalIdStorageAdd(b.id,b);b.treeNod=this;if(a){a._globalIdStorageSub(b.id)}for(var c=0;c<b.childsCount;c++){this._registerBranch(b.childNodes[c],a)}return 0};dhtmlXTreeObject.prototype.enableThreeStateCheckboxes=function(a){this.tscheck=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableHighlighting=function(a){this.ehlt=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableAutoTooltips=function(a){this.ettip=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableMercyDrag=function(a){this.dpcpy=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableActiveImages=function(a){this._aimgs=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableMultiLineItems=function(a){this.mlitems=a};dhtmlXTreeObject.prototype.enableSmartXMLParsing=function(a){this.slowParse=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableTreeImages=function(a){this.timgen=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableFixedMode=function(a){this.hfMode=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableCheckBoxes=function(a){this.checkBoxOff=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.setStdImages=function(a,c,b){this.imageArray[0]=a;this.imageArray[1]=c;this.imageArray[2]=b};dhtmlXTreeObject.prototype.enableTreeLines=function(a){this.treeLinesOn=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.setImageArrays=function(e,a,g,f,c,b){switch(e){case"plus":this.plusArray[0]=a;this.plusArray[1]=g;this.plusArray[2]=f;this.plusArray[3]=c;this.plusArray[4]=b;break;case"minus":this.minusArray[0]=a;this.minusArray[1]=g;this.minusArray[2]=f;this.minusArray[3]=c;this.minusArray[4]=b;break}};dhtmlXTreeObject.prototype.openItem=function(b){var a=this._globalIdStorageFind(b);if(!a){return 0}else{return this._openItem(a)}};dhtmlXTreeObject.prototype._openItem=function(a){if((this._spnFH)&&(!this._spnFH(a.id,this._getOpenState(a)))){return 0}this._HideShow(a,2);if(this._epnFH){if(!this.xmlstate){this._epnFH(a.id,this._getOpenState(a))}else{this._oie_onXLE=this.onXLE;this.onXLE=this._epnFHe}}if((a.parentObject)&&(this._getOpenState(a.parentObject)<0)){this._openItem(a.parentObject)}};dhtmlXTreeObject.prototype.closeItem=function(b){if(this.rootId==b){return 0}var a=this._globalIdStorageFind(b);if(!a){return 0}if(a.closeble){this._HideShow(a,1)}};dhtmlXTreeObject.prototype.getLevel=function(b){var a=this._globalIdStorageFind(b);if(!a){return 0}return this._getNodeLevel(a,0)};dhtmlXTreeObject.prototype.setItemCloseable=function(c,a){a=convertStringToBoolean(a);if((c)&&(c.span)){var b=c}else{var b=this._globalIdStorageFind(c)}if(!b){return 0}b.closeble=a};dhtmlXTreeObject.prototype._getNodeLevel=function(a,b){if(a.parentObject){return this._getNodeLevel(a.parentObject,b+1)}return(b)};dhtmlXTreeObject.prototype.hasChildren=function(b){var a=this._globalIdStorageFind(b);if(!a){return 0}else{if((this.XMLsource)&&(!a.XMLload)){return true}else{return a.childsCount}}};dhtmlXTreeObject.prototype._getLeafCount=function(f){var e=0;for(var c=0;c<f.childsCount;c++){if(f.childNodes[c].childsCount==0){e++}}return e};dhtmlXTreeObject.prototype._fixChildCountLabel=function(g,e){if(this.childCalc==null){return}if((g.unParsed)||((!g.XMLload)&&(this.XMLsource))){if(g._acc){g.span.innerHTML=g.label+this.htmlcA+g._acc+this.htmlcB}else{g.span.innerHTML=g.label}return}switch(this.childCalc){case 1:if(g.childsCount!=0){g.span.innerHTML=g.label+this.htmlcA+g.childsCount+this.htmlcB}else{g.span.innerHTML=g.label}break;case 2:var f=this._getLeafCount(g);if(f!=0){g.span.innerHTML=g.label+this.htmlcA+f+this.htmlcB}else{g.span.innerHTML=g.label}break;case 3:if(g.childsCount!=0){var c=0;for(var b=0;b<g.childsCount;b++){if(!g.childNodes[b]._acc){g.childNodes[b]._acc=0}c+=g.childNodes[b]._acc*1}c+=g.childsCount*1;g.span.innerHTML=g.label+this.htmlcA+c+this.htmlcB;g._acc=c}else{g.span.innerHTML=g.label;g._acc=1}if((g.parentObject)&&(g.parentObject!=this.htmlNode)){this._fixChildCountLabel(g.parentObject)}break;case 4:if(g.childsCount!=0){var c=0;for(var b=0;b<g.childsCount;b++){if(!g.childNodes[b]._acc){g.childNodes[b]._acc=1}c+=g.childNodes[b]._acc*1}g.span.innerHTML=g.label+this.htmlcA+c+this.htmlcB;g._acc=c}else{g.span.innerHTML=g.label;g._acc=1}if((g.parentObject)&&(g.parentObject!=this.htmlNode)){this._fixChildCountLabel(g.parentObject)}break}};dhtmlXTreeObject.prototype.setItemText=function(e,c,b){var a=this._globalIdStorageFind(e);if(!a){return 0}a.label=c;a.span.innerHTML=c;if(this.childCalc){this._fixChildCountLabel(a)}a.span.parentNode.title=b||""};dhtmlXTreeObject.prototype.refreshItem=function(b){if(!b){b=this.rootId}var a=this._globalIdStorageFind(b);this.deleteChildItems(b);this._loadDynXML(b)};dhtmlXTreeObject.prototype.setItemImage2=function(e,a,f,c){var b=this._globalIdStorageFind(e);if(!b){return 0}b.images[1]=f;b.images[2]=c;b.images[0]=a;this._correctPlus(b)};dhtmlXTreeObject.prototype.setItemImage=function(c,a,e){var b=this._globalIdStorageFind(c);if(!b){return 0}if(e){b.images[1]=a;b.images[2]=e}else{b.images[0]=a}this._correctPlus(b)};dhtmlXTreeObject.prototype.getSubItems=function(c){var a=this._globalIdStorageFind(c,0,1);if(!a){return 0}if(a.unParsed){return(this._getSubItemsXML(a.unParsed))}var b="";for(i=0;i<a.childsCount;i++){if(!b){b=a.childNodes[i].id}else{b+=this.dlmtr+a.childNodes[i].id}}return b};dhtmlXTreeObject.prototype._getSubItemsXML=function(a){var c="";for(var b=0;b<a.childNodes.length;b++){if(a.childNodes[b].tagName=="item"){if(!c){c=a.childNodes[b].getAttribute("id")}else{c+=this.dlmtr+a.childNodes[b].getAttribute("id")}}}return c};dhtmlXTreeObject.prototype.getAllSubItems=function(a){return this._getAllSubItems(a)};dhtmlXTreeObject.prototype.getAllLeafs=function(){return this._getAllScraggyItems(this.htmlNode)};dhtmlXTreeObject.prototype._getAllScraggyItems=function(c){var e="";for(var b=0;b<c.childsCount;b++){if((c.childNodes[b].unParsed)||(c.childNodes[b].childsCount>0)){if(c.childNodes[b].unParsed){var a=this._getAllScraggyItemsXML(c.childNodes[b].unParsed,1)}else{var a=this._getAllScraggyItems(c.childNodes[b])}if(a){if(e){e+=this.dlmtr+a}else{e=a}}}else{if(!e){e=c.childNodes[b].id}else{e+=this.dlmtr+c.childNodes[b].id}}}return e};dhtmlXTreeObject.prototype._getAllScraggyItemsXML=function(f,a){var g="";var b=false;for(var e=0;e<f.childNodes.length;e++){if((f.childNodes[e].tagName=="item")){b=true;var c=this._getAllScraggyItemsXML(f.childNodes[e],0);if(c!=""){if(g){g+=this.dlmtr+c}else{g=c}}}}if((!a)&&(!b)){if(g){g+=this.dlmtr+f.getAttribute("id")}else{g=f.getAttribute("id")}}return g};dhtmlXTreeObject.prototype.getAllFatItems=function(){return this._getAllFatItems(this.htmlNode)};dhtmlXTreeObject.prototype._getAllFatItems=function(c){var e="";for(var b=0;b<c.childsCount;b++){if((c.childNodes[b].unParsed)||(c.childNodes[b].childsCount>0)){if(!e){e=c.childNodes[b].id}else{e+=this.dlmtr+c.childNodes[b].id}if(c.childNodes[b].unParsed){var a=this._getAllFatItemsXML(c.childNodes[b].unParsed,1)}else{var a=this._getAllFatItems(c.childNodes[b])}if(a){e+=this.dlmtr+a}}}return e};dhtmlXTreeObject.prototype._getAllFatItemsXML=function(f,a){var g="";var b=false;for(var e=0;e<f.childNodes.length;e++){if((f.childNodes[e].tagName=="item")){b=true;var c=this._getAllFatItemsXML(f.childNodes[e],0);if(c!=""){if(g){g+=this.dlmtr+c}else{g=c}}}}if((!a)&&(b)){if(g){g+=this.dlmtr+f.getAttribute("id")}else{g=f.getAttribute("id")}}return g};dhtmlXTreeObject.prototype._getAllSubItems=function(g,f,e){if(e){b=e}else{var b=this._globalIdStorageFind(g)}if(!b){return 0}f="";for(var c=0;c<b.childsCount;c++){if(!f){f=b.childNodes[c].id}else{f+=this.dlmtr+b.childNodes[c].id}var a=this._getAllSubItems(0,f,b.childNodes[c]);if(a){f+=this.dlmtr+a}}if(b.unParsed){f=this._getAllSubItemsXML(g,f,b.unParsed)}return f};dhtmlXTreeObject.prototype._getAllSubItemsXML=function(e,c,b){for(var a=0;a<b.childNodes.length;a++){if(b.childNodes[a].tagName=="item"){if(!c){c=b.childNodes[a].getAttribute("id")}else{c+=this.dlmtr+b.childNodes[a].getAttribute("id")}c=this._getAllSubItemsXML(e,c,b.childNodes[a])}}return c};dhtmlXTreeObject.prototype.selectItem=function(e,c,b){c=convertStringToBoolean(c);var a=this._globalIdStorageFind(e);if((!a)||(!a.parentObject)){return 0}if(this._getOpenState(a.parentObject)==-1){if(this.XMLloadingWarning){a.parentObject.openMe=1}else{this._openItem(a.parentObject)}}var f=null;if(b){f=new Object;f.ctrlKey=true}if(c){this.onRowSelect(f,a.htmlNode.childNodes[0].childNodes[0].childNodes[3],false)}else{this.onRowSelect(f,a.htmlNode.childNodes[0].childNodes[0].childNodes[3],true)}};dhtmlXTreeObject.prototype.getSelectedItemText=function(){var b=new Array();for(var a=0;a<this._selected.length;a++){b[a]=this._selected[a].span.innerHTML}return(b.join(this.dlmtr))};dhtmlXTreeObject.prototype._compressChildList=function(a,c){a--;for(var b=0;b<a;b++){if(c[b]==0){c[b]=c[b+1];c[b+1]=0}}};dhtmlXTreeObject.prototype._deleteNode=function(h,f,k){if(!k){this._globalIdStorageRecSub(f)}if((!f)||(!f.parentObject)){return 0}var a=0;var b=0;if(f.tr.nextSibling){a=f.tr.nextSibling.nodem}if(f.tr.previousSibling){b=f.tr.previousSibling.nodem}var g=f.parentObject;var c=g.childsCount;var j=g.childNodes;for(var e=0;e<c;e++){if(j[e].id==h){if(!k){g.htmlNode.childNodes[0].removeChild(j[e].tr)}j[e]=0;break}}this._compressChildList(c,j);if(!k){g.childsCount--}if(a){this._correctPlus(a);this._correctLine(a)}if(b){this._correctPlus(b);this._correctLine(b)}if(this.tscheck){this._correctCheckStates(g)}};dhtmlXTreeObject.prototype.setCheck=function(c,b){var a=this._globalIdStorageFind(c,0,1);if(!a){return}if(b==="unsure"){this._setCheck(a,b)}else{b=convertStringToBoolean(b);if((this.tscheck)&&(this.smcheck)){this._setSubChecked(b,a)}else{this._setCheck(a,b)}}if(this.smcheck){this._correctCheckStates(a.parentObject)}};dhtmlXTreeObject.prototype._setCheck=function(a,c){if(((a.parentObject._r_logic)||(this._frbtr))&&(c)){for(var b=0;b<a.parentObject.childsCount;b++){this._setCheck(a.parentObject.childNodes[b],0)}}var e=a.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];if(c=="unsure"){a.checkstate=2}else{if(c){a.checkstate=1}else{a.checkstate=0}}if(a.dscheck){a.checkstate=a.dscheck}e.src=this.imPath+((a.parentObject._r_logic||this._frbtr)?this.radioArray:this.checkArray)[a.checkstate]};dhtmlXTreeObject.prototype.setSubChecked=function(c,b){var a=this._globalIdStorageFind(c);this._setSubChecked(b,a);this._correctCheckStates(a.parentObject)};dhtmlXTreeObject.prototype._setSubCheckedXML=function(e,b){if(!b){return}if(!_isOpera){var g=e?"1":"";var f=this.XMLLoader.doXPath(".//item",b);for(var c=0;c<f.length;c++){f[c].setAttribute("checked",g)}}else{for(var c=0;c<b.childNodes.length;c++){var a=b.childNodes[c];if((a)&&(a.tagName=="item")){if(e){a.setAttribute("checked",1)}else{a.setAttribute("checked","")}this._setSubCheckedXML(e,a)}}}};dhtmlXTreeObject.prototype._setSubChecked=function(c,a){c=convertStringToBoolean(c);if(!a){return}if(((a.parentObject._r_logic)||(this._frbtr))&&(c)){for(var b=0;b<a.parentObject.childsCount;b++){this._setSubChecked(0,a.parentObject.childNodes[b])}}if(a.unParsed){this._setSubCheckedXML(c,a.unParsed)}if(a._r_logic||this._frbtr){this._setSubChecked(c,a.childNodes[0])}else{for(var b=0;b<a.childsCount;b++){this._setSubChecked(c,a.childNodes[b])}}var e=a.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];if(c){a.checkstate=1}else{a.checkstate=0}if(a.dscheck){a.checkstate=a.dscheck}e.src=this.imPath+((a.parentObject._r_logic||this._frbtr)?this.radioArray:this.checkArray)[a.checkstate]};dhtmlXTreeObject.prototype.isItemChecked=function(b){var a=this._globalIdStorageFind(b);if(!a){return}return a.checkstate};dhtmlXTreeObject.prototype.getAllChecked=function(){return this._getAllChecked("","",1)};dhtmlXTreeObject.prototype.getAllUnchecked=function(a){if(a){a=this._globalIdStorageFind(a)}return this._getAllChecked(a,"",0)};dhtmlXTreeObject.prototype.getAllPartiallyChecked=function(){return this._getAllChecked("","",2)};dhtmlXTreeObject.prototype.getAllCheckedBranches=function(){var a=this._getAllChecked("","",1);if(a!=""){a+=this.dlmtr}return a+this._getAllChecked("","",2)};dhtmlXTreeObject.prototype._getAllChecked=function(e,c,f){if(!e){e=this.htmlNode}if(e.checkstate==f){if(!e.nocheckbox){if(c){c+=this.dlmtr+e.id}else{c=e.id}}}var a=e.childsCount;for(var b=0;b<a;b++){c=this._getAllChecked(e.childNodes[b],c,f)}if(e.unParsed){c=this._getAllCheckedXML(e.unParsed,c,f)}if(c){return c}else{return""}};dhtmlXTreeObject.prototype._getAllCheckedXML=function(g,f,k){var b=g.childNodes.length;for(var c=0;c<b;c++){var e=g.childNodes[c];if(e.tagName=="item"){var h=e.getAttribute("checked");var a=false;if(k==2){if(h=="-1"){a=true}}else{if(k==1){if((h)&&(h!="0")&&(h!="-1")){a=true}}else{if(k==0){if((!h)||(h=="0")){a=true}}}}if(a){if(f){f+=this.dlmtr+e.getAttribute("id")}else{f=e.getAttribute("id")}}f=this._getAllCheckedXML(e,f,k)}}if(f){return f}else{return""}};dhtmlXTreeObject.prototype.deleteChildItems=function(e){var a=this._globalIdStorageFind(e);if(!a){return}var b=a.childsCount;for(var c=0;c<b;c++){this._deleteNode(a.childNodes[0].id,a.childNodes[0])}};dhtmlXTreeObject.prototype.deleteItem=function(b,a){if((!this._onrdlh)||(this._onrdlh(b))){this._fixChildCountLabel(this._deleteItem(b,a))}this.allTree.childNodes[0].border="1";this.allTree.childNodes[0].border="0"};dhtmlXTreeObject.prototype._deleteItem=function(g,b,f){b=convertStringToBoolean(b);var a=this._globalIdStorageFind(g);if(!a){return}var c=this.getParentId(g);if((b)&&(c!=this.rootId)){this.selectItem(c,1)}else{this._unselectItem(a)}if(!f){this._globalIdStorageRecSub(a)}var e=a.parentObject;this._deleteNode(g,a,f);this._correctPlus(e);this._correctLine(e);return e};dhtmlXTreeObject.prototype._globalIdStorageRecSub=function(a){for(var b=0;b<a.childsCount;b++){this._globalIdStorageRecSub(a.childNodes[b]);this._globalIdStorageSub(a.childNodes[b].id)}this._globalIdStorageSub(a.id)};dhtmlXTreeObject.prototype.insertNewNext=function(j,m,l,b,f,e,c,a,h){var g=this._globalIdStorageFind(j);if((!g)||(!g.parentObject)){return(0)}var k=this._attachChildNode(0,m,l,b,f,e,c,a,h,g);if((!this.XMLloadingWarning)&&(this.childCalc)){this._fixChildCountLabel(g.parentObject)}return k};dhtmlXTreeObject.prototype.getItemIdByIndex=function(c,a){var b=this._globalIdStorageFind(c);if((!b)||(a>b.childsCount)){return null}return b.childNodes[a].id};dhtmlXTreeObject.prototype.getChildItemIdByIndex=function(c,a){var b=this._globalIdStorageFind(c);if((!b)||(a>=b.childsCount)){return null}return b.childNodes[a].id};dhtmlXTreeObject.prototype.setDragHandler=function(func){if(typeof(func)=="function"){this.dragFunc=func}else{this.dragFunc=eval(func)}};dhtmlXTreeObject.prototype._clearMove=function(){this._unselectItems();this.selectionBar.style.display="none";this.allTree.className=this.allTree.className.replace(" selectionBox","")};dhtmlXTreeObject.prototype.enableDragAndDrop=function(b,a){if(b=="temporary_disabled"){this.dADTempOff=false;b=true}else{this.dADTempOff=true}this.dragAndDropOff=convertStringToBoolean(b);if(this.dragAndDropOff){this.dragger.addDragLanding(this.allTree,this)}if(arguments.length>1){this._ddronr=(!convertStringToBoolean(a))}};dhtmlXTreeObject.prototype.enableDragAndDropScrolling=function(a){this.autoScroll=convertStringToBoolean(a)};dhtmlXTreeObject.prototype._setMove=function(e,b,g){if(e.parentObject.span){var c=getAbsoluteTop(e);var a=getAbsoluteTop(this.allTree);this.dadmodec=this.dadmode;this.dadmodefix=0;if(this.dadmode==2){var f=g-c+this.allTree.scrollTop+(document.body.scrollTop||document.documentElement.scrollTop)-2-e.offsetHeight/2;if((Math.abs(f)-e.offsetHeight/6)>0){this.dadmodec=1;if(f<0){this.dadmodefix=0-e.offsetHeight}}else{this.dadmodec=0}}if(this.dadmodec==0){this._selectItem(e.parentObject)}else{this._unselectItem(e.parentObject);this.selectionBar.style.top=(c-a+((parseInt(e.parentObject.span.parentNode.previousSibling.childNodes[0].style.height)||18)-1)+this.dadmodefix)+"px";this.selectionBar.style.left="5px";if(this.allTree.offsetWidth>20){this.selectionBar.style.width=(this.allTree.offsetWidth-(_isFF?30:25))+"px"}this.selectionBar.style.display=""}if(this.autoScroll){if((c-a-parseInt(this.allTree.scrollTop))>(parseInt(this.allTree.offsetHeight)-50)){this.allTree.scrollTop=parseInt(this.allTree.scrollTop)+20}if((c-a)<(parseInt(this.allTree.scrollTop)+30)){this.allTree.scrollTop=parseInt(this.allTree.scrollTop)-20}}}};dhtmlXTreeObject.prototype.setDropHandler=function(func){if(typeof(func)=="function"){this.dropFunc=func}else{this.dropFunc=eval(func)}};dhtmlXTreeObject.prototype._createDragNode=function(g,f){if(!this.dADTempOff){return null}var c=g.parentObject;if(!c.i_sel){this._selectItem(c,f)}this._checkMSelectionLogic();var b=document.createElement("div");var h=new Array();if(this._itim_dg){for(var a=0;a<this._selected.length;a++){h[a]="<span><img style='position:relative;top:4px;' width='18px' height='18px' src='"+this._selected[a].span.parentNode.previousSibling.childNodes[0].src+"'></span>"+this._selected[a].span.innerHTML}}else{h=this.getSelectedItemText().split(this.dlmtr)}b.innerHTML=h.join("<br/>");b.style.position="absolute";b.className="dragSpanDiv";this._dragged=(new Array()).concat(this._selected);return b};dhtmlXTreeObject.prototype.focusItem=function(b){var a=this._globalIdStorageFind(b);if(!a){return(0)}this._focusNode(a)};dhtmlXTreeObject.prototype._focusNode=function(a){var b=getAbsoluteTop(a.htmlNode)-getAbsoluteTop(this.allTree);if((b>(this.allTree.scrollTop+this.allTree.offsetHeight-30))||(b<this.allTree.scrollTop)){this.allTree.scrollTop=b}};dhtmlXTreeObject.prototype._preventNsDrag=function(a){if((a)&&(a.preventDefault)){a.preventDefault();return false}return false};dhtmlXTreeObject.prototype._drag=function(g,h,a){if(this._autoOpenTimer){clearTimeout(this._autoOpenTimer)}if(!a.parentObject){a=this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];this.dadmodec=0}this._clearMove();var f=g.parentObject.treeNod;if((f)&&(f._clearMove)){f._clearMove("")}if((!this.dragMove)||(this.dragMove())){if((!f)||(!f._clearMove)||(!f._dragged)){var c=new Array(g.parentObject)}else{var c=f._dragged}for(var e=0;e<c.length;e++){var b=this._moveNode(c[e],a.parentObject);if(b){this.selectItem(b,0,1)}}}if(f){f._dragged=new Array()}};dhtmlXTreeObject.prototype._dragIn=function(g,e,a,j){if(!this.dADTempOff){return 0}var h=e.parentObject;var b=g.parentObject;if((!b)&&(this._ddronr)){return}if((this._onDrInFunc)&&(!this._onDrInFunc(h.id,b?b.id:null,h.treeNod,this))){return 0}if(!b){this.allTree.className+=" selectionBox"}else{if(h.childNodes==null){this._setMove(g,a,j);return g}var f=h.treeNod;for(var c=0;c<f._dragged.length;c++){if(this._checkPNodes(b,f._dragged[c])){return 0}}b.span.parentNode.appendChild(this.selectionBar);this._setMove(g,a,j);if(this._getOpenState(b)<0){this._autoOpenId=b.id;this._autoOpenTimer=window.setTimeout(new callerFunction(this._autoOpenItem,this),1000)}}return g};dhtmlXTreeObject.prototype._autoOpenItem=function(b,a){a.openItem(a._autoOpenId)};dhtmlXTreeObject.prototype._dragOut=function(a){this._clearMove();if(this._autoOpenTimer){clearTimeout(this._autoOpenTimer)}};dhtmlXTreeObject.prototype._getNextNode=function(a,b){if((!b)&&(a.childsCount)){return a.childNodes[0]}if(a==this.htmlNode){return -1}if((a.tr)&&(a.tr.nextSibling)&&(a.tr.nextSibling.nodem)){return a.tr.nextSibling.nodem}return this._getNextNode(a.parentObject,true)};dhtmlXTreeObject.prototype._lastChild=function(a){if(a.childsCount){return this._lastChild(a.childNodes[a.childsCount-1])}else{return a}};dhtmlXTreeObject.prototype._getPrevNode=function(a,b){if((a.tr)&&(a.tr.previousSibling)&&(a.tr.previousSibling.nodem)){return this._lastChild(a.tr.previousSibling.nodem)}if(a.parentObject){return a.parentObject}else{return -1}};dhtmlXTreeObject.prototype.findItem=function(a,c,b){var e=this._findNodeByLabel(a,c,(b?this.htmlNode:null));if(e){this.selectItem(e.id,true);this._focusNode(e);return e.id}else{return null}};dhtmlXTreeObject.prototype.findItemIdByLabel=function(a,c,b){var e=this._findNodeByLabel(a,c,(b?this.htmlNode:null));if(e){return e.id}else{return null}};dhtmlXTreeObject.prototype.findStrInXML=function(b,c,f){for(var a=0;a<b.childNodes.length;a++){if(b.childNodes[a].nodeType==1){var e=b.childNodes[a].getAttribute(c);if((e)&&(e.toLowerCase().search(f)!=-1)){return true}if(this.findStrInXML(b.childNodes[a],c,f)){return true}}}return false};dhtmlXTreeObject.prototype._findNodeByLabel=function(a,f,e){var a=a.replace(new RegExp("^()+"),"").replace(new RegExp("()+$"),"");a=new RegExp(a.replace(/([\*\+\\\[\]\(\)]{1})/gi,"\\$1").replace(/ /gi,".*"),"gi");if(!e){e=this._selected[0];if(!e){e=this.htmlNode}}var b=e;if(!f){if((e.unParsed)&&(this.findStrInXML(e.unParsed,"text",a))){this.reParse(e)}e=this._getNextNode(b);if(e==-1){e=this.htmlNode.childNodes[0]}}else{var c=this._getPrevNode(b);if(c==-1){c=this._lastChild(this.htmlNode)}if((c.unParsed)&&(this.findStrInXML(c.unParsed,"text",a))){this.reParse(c);e=this._getPrevNode(b)}else{e=c}if(e==-1){e=this._lastChild(this.htmlNode)}}while((e)&&(e!=b)){if((e.label)&&(e.label.search(a)!=-1)){return(e)}if(!f){e=this._getNextNode(e);if(e==-1){if(b==this.htmlNode){break}e=this.htmlNode.childNodes[0]}if((e.unParsed)&&(this.findStrInXML(e.unParsed,"text",a))){this.reParse(e)}}else{var c=this._getPrevNode(e);if(c==-1){c=this._lastChild(this.htmlNode)}if((c.unParsed)&&(this.findStrInXML(c.unParsed,"text",a))){this.reParse(c);e=this._getPrevNode(e)}else{e=c}if(e==-1){e=this._lastChild(this.htmlNode)}}}return null};dhtmlXTreeObject.prototype.moveItem=function(j,h,c,b){var a=this._globalIdStorageFind(j);if(!a){return(0)}switch(h){case"right":alert("Not supported yet");break;case"item_child":var f=(b||this)._globalIdStorageFind(c);if(!f){return(0)}(b||this)._moveNodeTo(a,f,0);break;case"item_sibling":var f=(b||this)._globalIdStorageFind(c);if(!f){return(0)}(b||this)._moveNodeTo(a,f.parentObject,f);break;case"item_sibling_next":var f=(b||this)._globalIdStorageFind(c);if(!f){return(0)}if((f.tr)&&(f.tr.nextSibling)&&(f.tr.nextSibling.nodem)){(b||this)._moveNodeTo(a,f.parentObject,f.tr.nextSibling.nodem)}else{(b||this)._moveNodeTo(a,f.parentObject)}break;case"left":if(a.parentObject.parentObject){this._moveNodeTo(a,a.parentObject.parentObject,a.parentObject)}break;case"up":var g=this._getPrevNode(a);if((g==-1)||(!g.parentObject)){return}this._moveNodeTo(a,g.parentObject,g);break;case"up_strict":var g=this._getIndex(a);if(g!=0){this._moveNodeTo(a,a.parentObject,a.parentObject.childNodes[g-1])}break;case"down_strict":var g=this._getIndex(a);var e=a.parentObject.childsCount-2;if(g==e){this._moveNodeTo(a,a.parentObject)}else{if(g<e){this._moveNodeTo(a,a.parentObject,a.parentObject.childNodes[g+2])}}break;case"down":var g=this._getNextNode(this._lastChild(a));if((g==-1)||(!g.parentObject)){return}if(g.parentObject==a.parentObject){var g=this._getNextNode(g)}if(g==-1){this._moveNodeTo(a,a.parentObject)}else{if((g==-1)||(!g.parentObject)){return}this._moveNodeTo(a,g.parentObject,g)}break}};dhtmlXTreeObject.prototype.setIconSize=function(e,b,f){if(f){if((f)&&(f.span)){var a=f}else{var a=this._globalIdStorageFind(f)}if(!a){return(0)}var c=a.span.parentNode.previousSibling.childNodes[0];c.style.width=e;c.style.height=b}else{this.def_img_x=e;this.def_img_y=b}};dhtmlXTreeObject.prototype.refreshItems=function(a,b){this.waitUpdateXML=this.dlmtr+a+this.dlmtr;this.loadXML((b||this.XMLsource)+getUrlSymbol(b||this.XMLsource)+"ids="+this._escape(a))};dhtmlXTreeObject.prototype.updateItem=function(j,g,e,c,b,f){var a=this._globalIdStorageFind(j);if(g){a.label=g}a.images=new Array(e||this.imageArray[0],c||this.imageArray[1],b||this.imageArray[2]);if(this.checkBoxOff){var h=this._createItem(1,this,mode)}else{var h=this._createItem(0,a,0)}a.htmlNode.childNodes[0].insertBefore(h.rows[0],a.htmlNode.rows[0]);a.htmlNode.childNodes[0].removeChild(a.htmlNode.rows[1]);a.htmlNode.objBelong=a;if(f){this._setCheck(a,true)}this._correctPlus(a);return a};dhtmlXTreeObject.prototype.setOnLoadingStart=function(func){if(typeof(func)=="function"){this.onXLS=func}else{this.onXLS=eval(func)}};dhtmlXTreeObject.prototype.setOnLoadingEnd=function(func){if(typeof(func)=="function"){this.onXLE=func}else{this.onXLE=eval(func)}};dhtmlXTreeObject.prototype.getXMLState=function(){return(this.xmlstate==1)};dhtmlXTreeObject.prototype.enableSmartCheckboxes=function(a){this.smcheck=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.disableCheckbox=function(c,b){if(typeof(c)!="object"){var a=this._globalIdStorageFind(c,0,1)}else{var a=c}if(!a){return}a.dscheck=convertStringToBoolean(b)?(((a.checkstate||0)%3)+3):((a.checkstate>2)?(a.checkstate-3):a.checkstate);this._setCheck(a);if(a.dscheck<3){a.dscheck=false}};dhtmlXTreeObject.prototype.setXMLAutoLoadingBehaviour=function(a){this.xmlalb=a};dhtmlXTreeObject.prototype._loadDynXML=function(b){var a=(new Date()).valueOf();this._ld_id=b;if(this.xmlalb=="function"){if(this.XMLsource){this.XMLsource(this._escape(b))}}else{if(this.xmlalb=="name"){this.loadXML(this.XMLsource+this._escape(b))}else{if(this.xmlalb=="xmlname"){this.loadXML(this.XMLsource+this._escape(b)+".xml?uid="+a)}else{this.loadXML(this.XMLsource+getUrlSymbol(this.XMLsource)+"uid="+a+"&id="+this._escape(b))}}}};dhtmlXTreeObject.prototype.enableMultiselection=function(b,a){this._amsel=convertStringToBoolean(b);this._amselS=convertStringToBoolean(a)};dhtmlXTreeObject.prototype._checkMSelectionLogic=function(){var c=new Array();for(var b=0;b<this._selected.length;b++){for(var a=0;a<this._selected.length;a++){if((b!=a)&&(this._checkPNodes(this._selected[a],this._selected[b]))){c[c.length]=this._selected[a]}}}for(var b=0;b<c.length;b++){this._unselectItem(c[b])}};dhtmlXTreeObject.prototype._checkPNodes=function(b,a){if(a==b){return 1}if(b.parentObject){return this._checkPNodes(b.parentObject,a)}else{return 0}};dhtmlXTreeObject.prototype.openOnItemAdding=function(a){this._hAdI=!convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableDistributedParsing=function(c,b,a){this._edsbps=convertStringToBoolean(c);this._edsbpsA=new Array();this._edsbpsC=b||10;this._edsbpsD=a||250};dhtmlXTreeObject.prototype.getDistributedParsingState=function(){return(!((!this._edsbpsA)||(!this._edsbpsA.length)))};dhtmlXTreeObject.prototype.getItemParsingState=function(c){var b=this._globalIdStorageFind(c,true,true);if(!b){return 0}if(this._edsbpsA){for(var a=0;a<this._edsbpsA.length;a++){if(this._edsbpsA[a][2]==c){return -1}}}return 1};dhtmlXTreeObject.prototype._distributedStart=function(b,f,e,c,a){if(!this._edsbpsA){this._edsbpsA=new Array()}this._edsbpsA[this._edsbpsA.length]=[b,f,e,c,a]};dhtmlXTreeObject.prototype._distributedStep=function(e){var b=this;if((!this._edsbpsA)||(!this._edsbpsA.length)){b.XMLloadingWarning=0;return}var f=this._edsbpsA[0];this.parsedArray=new Array();this._parseXMLTree(this,f[0],f[2],f[3],null,f[1]);var a=this._globalIdStorageFind(f[2]);this._redrawFrom(this,a,f[4],this._getOpenState(a));var c=this.setCheckList.split(this.dlmtr);for(var g=0;g<c.length;g++){if(c[g]){this.setCheck(c[g],1)}}this._edsbpsA=(new Array()).concat(this._edsbpsA.slice(1));if((!this._edsbpsA.length)&&(this.onXLE)){window.setTimeout(function(){b.onXLE(b,e)},1);b.xmlstate=0}};dhtmlXTreeObject.prototype.enablePaging=function(b,a){this._epgps=convertStringToBoolean(b);this._epgpsC=a||50};dhtmlXTreeObject.prototype._setPrevPageSign=function(e,j,h,f){var g=document.createElement("DIV");g.innerHTML="Previous "+this._epgpsC+" items";g.className="dhx_next_button";var c=this;g.onclick=function(){c._prevPageCall(this)};g._pageData=[e,j,h,f];var b=e.childNodes[0];var a=b.span.parentNode.parentNode.parentNode.parentNode.parentNode;a.insertBefore(g,a.firstChild)};dhtmlXTreeObject.prototype._setNextPageSign=function(c,h,g,e){var f=document.createElement("DIV");f.innerHTML="Next "+this._epgpsC+" items";f.className="dhx_next_button";var b=this;f.onclick=function(){b._nextPageCall(this)};f._pageData=[c,h,g,e];var a=c.childNodes[c.childsCount-1];a.span.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(f)};dhtmlXTreeObject.prototype._nextPageCall=function(a){tree.deleteChildItems(a._pageData[0].id);a.parentNode.removeChild(a);var b=this._getOpenState(a._pageData[0]);this._parseXMLTree(this,a._pageData[3],a._pageData[0].id,a._pageData[2],null,a._pageData[1]);this._redrawFrom(this,a._pageData[0],0);if(b>-1){this._openItem(a._pageData[0])}a._pageData=null};dhtmlXTreeObject.prototype._prevPageCall=function(a){tree.deleteChildItems(a._pageData[0].id);a.parentNode.removeChild(a);var c=this._getOpenState(a._pageData[0]);var b=a._pageData[1]-this._epgpsC;if(b<0){b=0}this._parseXMLTree(this,a._pageData[3],a._pageData[0].id,a._pageData[2],null,b);this._redrawFrom(this,a._pageData[0],0);if(c>-1){this._openItem(a._pageData[0])}a._pageData=null};dhtmlXTreeObject.prototype.setItemTopOffset=function(g,e){if(typeof(g)=="string"){var c=this._globalIdStorageFind(g)}else{var c=g}var f=c.span.parentNode.parentNode;for(var b=0;b<f.childNodes.length;b++){if(b!=0){f.childNodes[b].style.height=18+parseInt(e)+"px"}else{var a=f.childNodes[b].firstChild;if(f.childNodes[b].firstChild.tagName!="DIV"){a=document.createElement("DIV");f.childNodes[b].insertBefore(a,f.childNodes[b].firstChild)}a.style.height=parseInt(e)+"px";a.style.backgroundImage="url("+this.imPath+this.lineArray[5]+")";a.innerHTML="&nbsp;";a.style.overflow="hidden";if(parseInt(e)==0){f.childNodes[b].removeChild(a)}}f.childNodes[b].vAlign="bottom"}};dhtmlXTreeObject.prototype.getItemImage=function(f,e,b){var c=this._globalIdStorageFind(f);if(!c){return""}var a=c.images[e||0];if(b){a=this.imPath+a}return a};dhtmlXTreeObject.prototype.enableRadioButtons=function(e,c){if(arguments.length==1){this._frbtr=convertStringToBoolean(e);this.checkBoxOff=this.checkBoxOff||this._frbtr;return}var b=this._globalIdStorageFind(e);if(!b){return""}c=convertStringToBoolean(c);if((c)&&(!b._r_logic)){b._r_logic=true;for(var a=0;a<b.childsCount;a++){this._setCheck(b.childNodes[a],b.childNodes[a].checkstate)}}if((!c)&&(b._r_logic)){b._r_logic=false;for(var a=0;a<b.childsCount;a++){this._setCheck(b.childNodes[a],b.childNodes[a].checkstate)}}};dhtmlXTreeObject.prototype.enableTextSigns=function(a){this._txtimg=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.enableImageDrag=function(a){this._itim_dg=convertStringToBoolean(a)};dhtmlXTreeObject.prototype.preventIECashing=function(a){this.no_cashe=convertStringToBoolean(a);this.XMLLoader.rSeed=this.no_cashe};
